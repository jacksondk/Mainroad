{{- $actionURL := .Site.Params.widgets.search.url | default "https://google.com/search" -}}
{{- $inputName := .Site.Params.widgets.search.input.name | default "sitesearch" -}}
{{- $inputPre := .Site.Params.widgets.search.input.pre -}}

<link href="/pagefind/pagefind-ui.css" rel="stylesheet">
<script src="/pagefind/pagefind-ui.js" type="text/javascript"></script>
<div class="widget-search widget">
	<h4 class="widget__title">Search</h4>
	<div id="search"></div>
	<!-- <form class="widget-search__form" role="search" method="get" action="{{ $actionURL }}">
		<input id="search" class="widget-search__field" type="search" placeholder="{{ T "search_placeholder" }}" value="" name="q" aria-label="{{ T "search_placeholder" }}">
		<input class="widget-search__submit" type="submit" value="Search">
		{{ if $inputName -}}<input type="hidden" name="{{ $inputName }}" value="{{ $inputPre }}{{ .Site.BaseURL }}">{{- end }}
	</form> -->
</div>
<script>
	window.addEventListener('DOMContentLoaded', () => {
		new PagefindUI({
			element: "#search",
			showImages: false
		})
	});
</script>